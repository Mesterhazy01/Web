<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geo Games</title>
<style>
body { font-family: Arial; text-align: center; background: #111; color: #eee; margin:0; }
header { padding: 20px; font-size: 28px; font-weight: bold; background:#1a1a1a;}
input, select { padding: 8px; margin: 5px; border-radius: 5px; border: none; width: 80%; max-width: 300px; }
button { padding: 10px 20px; background: #0f0; color: black; border: none; border-radius: 5px; cursor: pointer; margin:5px;}
section { padding: 20px; }
#profile { display:none; }
ul { list-style:none; padding:0; }
li { margin:5px 0; }
nav a { color:#0f0; margin:0 10px; text-decoration:none; font-weight:bold; }
nav a:hover { text-decoration: underline; }

/* Rangok st√≠lus */
.rank { font-weight:bold; padding: 2px 6px; border-radius: 4px; margin-left:10px; }
.rank-tiltott{background:#555;color:#fff;}
.rank-tag{background:#0f0;color:#000;}
.rank-felhasznalo{background:#00f;color:#fff;}
.rank-vip{background:#ff0;color:#000;}
.rank-game{background:#f80;color:#000;}
.rank-tech{background:#0ff;color:#000;}
.rank-media{background:#f0f;color:#000;}
.rank-media-plus{background:#ff69b4;color:#000;}
.rank-moderator{background:#f00;color:#fff;}
.rank-admin{background:#800080;color:#fff;}
</style>
</head>
<body>

<header>üåç Geo Games</header>

<nav>
<a href="#home" onclick="showSection('home')">Kezd≈ëoldal</a>
<a href="#auth" onclick="showSection('auth')">Bel√©p√©s / Regisztr√°ci√≥</a>
<a href="#profile" onclick="showSection('profile')">Profil</a>
</nav>

<section id="home">
<h2>√údv a Geo Games vil√°g√°ban!</h2>
<p>Fedezd fel j√°t√©kainkat, k√∂vesd a pontjaid, gy≈±jts jelv√©nyeket √©s l√©pj rangokat!</p>
</section>

<section id="auth">
<h2>Regisztr√°ci√≥ / Bel√©p√©s</h2>
<input type="text" id="name" placeholder="Neved (csak regisztr√°ci√≥hoz)"><br>
<input type="email" id="email" placeholder="Email"><br>
<input type="password" id="password" placeholder="Jelsz√≥"><br>
<button onclick="regisztral()">Regisztr√°ci√≥</button>
<button onclick="belep()">Bel√©p√©s</button>
</section>

<section id="profile">
<h2>√údv, <span id="username"></span>!</h2>
<p>Rang: <span id="rank" class="rank">Felhaszn√°l√≥</span></p>
<p>GeoPoint pontjaid: <span id="geopoints">0</span></p>

<h3>J√°t√©kok / Programok:</h3>
<ul id="gameslist"></ul>

<h3>Jelv√©nyek:</h3>
<ul id="badgeslist"><li>Nincs jelv√©ny m√©g</li></ul>

<button onclick="kilep()">Kijelentkez√©s</button>
</section>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
// Firebase konfigur√°ci√≥ - cser√©ld a saj√°todra!
const firebaseConfig = {
  apiKey: "IDE_J√ñN_A_KULCSOD",
  authDomain: "YOURPROJECT.firebaseapp.com",
  projectId: "YOURPROJECT",
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Navig√°ci√≥hoz
function showSection(id){
  document.querySelectorAll("section").forEach(sec=>sec.style.display="none");
  document.getElementById(id).style.display="block";
}

// Alap√©rtelmezett: home
showSection('home');

// Regisztr√°ci√≥
function regisztral(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const name = document.getElementById("name").value || "Felhaszn√°l√≥";
  auth.createUserWithEmailAndPassword(email,password)
    .then((cred)=>{
      db.collection("users").doc(cred.user.uid).set({
        name: name,
        geoPoints: 0,
        games: [],
        badges: [],
        rank: "felhasznalo"
      });
      alert("Sikeres regisztr√°ci√≥!");
      loadProfile(cred.user.uid);
    })
    .catch(e=>alert(e.message));
}

// Bel√©p√©s
function belep(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  auth.signInWithEmailAndPassword(email,password)
    .then((cred)=>{ loadProfile(cred.user.uid); })
    .catch(e=>alert(e.message));
}

// Profil bet√∂lt√©se
function loadProfile(uid){
  showSection('profile');
  const userDoc = db.collection("users").doc(uid);
  userDoc.onSnapshot((doc)=>{
    const data = doc.data();
    document.getElementById("username").innerText = data.name;
    document.getElementById("geopoints").innerText = data.geoPoints;

    // Rang
    const rankSpan = document.getElementById("rank");
    rankSpan.innerText = data.rank || "felhasznalo";
    rankSpan.className = "rank rank-" + (data.rank || "felhasznalo").toLowerCase();

    // J√°t√©kok
    const gamesList = document.getElementById("gameslist");
    gamesList.innerHTML = "";
    if(!data.games || data.games.length===0){ gamesList.innerHTML="<li>Nincs j√°t√©k</li>"; }
    else data.games.forEach(g=>{ gamesList.innerHTML+="<li>"+g+"</li>"; });

    // Jelv√©nyek
    const badgesList = document.getElementById("badgeslist");
    badgesList.innerHTML = "";
    if(!data.badges || data.badges.length===0){ badgesList.innerHTML="<li>Nincs jelv√©ny m√©g</li>"; }
    else data.badges.forEach(b=>{ badgesList.innerHTML+="<li>"+b+"</li>"; });
  });
}

// Kijelentkez√©s
function kilep(){ 
  auth.signOut().then(()=>{ showSection('auth'); }); 
}

// Automatikus login
auth.onAuthStateChanged(user=>{
  if(user) loadProfile(user.uid);
  else showSection('home');
});
</script>

</body>
</html>
